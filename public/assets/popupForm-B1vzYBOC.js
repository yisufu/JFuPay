import{e as N,p as x,al as z,a as B,m as u,W as s,o as n,h as y,l as r,O as m,Z as b,U as p,V as _,v as e,k as v,j as h,N as V,$ as W,a7 as $,aa as j,_ as E,Y as T}from"./vue-DkQzphiS.js";import{e as K,x as Q,w as R,_ as A}from"./index-B0iOz79E.js";import{F as d}from"./index-tQazVPhs.js";import{b as i}from"./validate-DcgMk89l.js";import L from"./previewQrcode-D_43SZ6-.js";import"./index-CJwZD0Ka.js";import"./index-DJv0ClnV.js";import"./previewCashier-CXf6_35P.js";const M={class:"title"},O=N({__name:"popupForm",setup(Y){const q=K(),f=x(),o=z("baTable"),g=x(!1),{t:l}=Q.useI18n(),U=()=>{o.form.items.uuid=R()},k=B({name:[i({name:"required",title:l("qrcode.name")})],uuid:[i({name:"required",title:l("qrcode.uuid")})],min_amount:[i({name:"number",title:l("qrcode.min_amount")})],max_amount:[i({name:"number",title:l("qrcode.max_amount")})],fixed_amount:[i({name:"number",title:l("qrcode.fixed_amount")})],expired_time:[i({name:"date",title:l("qrcode.expired_time")})],create_time:[i({name:"date",title:l("qrcode.create_time")})],update_time:[i({name:"date",title:l("qrcode.update_time")})]});return(Z,t)=>{const c=u("el-button"),w=u("el-form"),P=u("el-scrollbar"),C=u("el-dialog"),S=s("drag"),F=s("zoom"),I=s("loading"),D=s("blur");return n(),y(T,null,[r(C,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm,width:"50%"},{header:m(()=>[b((n(),y("div",M,[p(_(e(o).form.operate?e(l)(e(o).form.operate):""),1)])),[[S,[".ba-operate-dialog",".el-dialog__header"]],[F,".ba-operate-dialog"]])]),footer:m(()=>[v("div",{style:h("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[r(c,{onClick:t[15]||(t[15]=a=>e(o).toggleForm())},{default:m(()=>[p(_(e(l)("Cancel")),1)]),_:1}),b((n(),V(c,{loading:e(o).form.submitLoading,onClick:t[16]||(t[16]=a=>e(o).onSubmit(f.value)),type:"primary"},{default:m(()=>[p(_(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[D]])],4)]),default:m(()=>[b((n(),V(P,{class:"ba-table-form-scrollbar"},{default:m(()=>[v("div",{class:W(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:h(e(q).layout.shrink?"":"width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?E("",!0):(n(),V(w,{key:0,ref_key:"formRef",ref:f,onSubmit:t[13]||(t[13]=$(()=>{},["prevent"])),onKeyup:t[14]||(t[14]=j(a=>e(o).onSubmit(f.value),["enter"])),model:e(o).form.items,"label-position":e(q).layout.shrink?"top":"right","label-width":e(o).form.labelWidth+"px",rules:k},{default:m(()=>[r(d,{label:e(l)("qrcode.name"),type:"string",modelValue:e(o).form.items.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(o).form.items.name=a),prop:"name",placeholder:e(l)("Please input field",{field:e(l)("qrcode.name")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.uuid"),type:"string",modelValue:e(o).form.items.uuid,"onUpdate:modelValue":t[1]||(t[1]=a=>e(o).form.items.uuid=a),prop:"uuid",placeholder:e(l)("Please input field",{field:e(l)("qrcode.uuid")})},{append:m(()=>[r(c,{type:"primary",onClick:U},{default:m(()=>t[18]||(t[18]=[p("生成")])),_:1})]),_:1},8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.merchant_id"),type:"remoteSelect",modelValue:e(o).form.items.merchant_id,"onUpdate:modelValue":t[2]||(t[2]=a=>e(o).form.items.merchant_id=a),prop:"merchant_id","input-attr":{pk:"user.id",field:"username",remoteUrl:"/admin/user.User/index"},placeholder:e(l)("Please select field",{field:e(l)("qrcode.merchant_id")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.channel"),type:"remoteSelects",modelValue:e(o).form.items.channel,"onUpdate:modelValue":t[3]||(t[3]=a=>e(o).form.items.channel=a),prop:"channel","input-attr":{pk:"channel.id",field:"name",remoteUrl:"/admin/Channel/index"},placeholder:e(l)("Please select field",{field:e(l)("qrcode.channel")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.min_amount"),type:"number",modelValue:e(o).form.items.min_amount,"onUpdate:modelValue":t[4]||(t[4]=a=>e(o).form.items.min_amount=a),prop:"min_amount","input-attr":{step:1},placeholder:e(l)("Please input field",{field:e(l)("qrcode.min_amount")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.max_amount"),type:"number",modelValue:e(o).form.items.max_amount,"onUpdate:modelValue":t[5]||(t[5]=a=>e(o).form.items.max_amount=a),prop:"max_amount","input-attr":{step:1},placeholder:e(l)("Please input field",{field:e(l)("qrcode.max_amount")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.fixed_amount"),type:"number",modelValue:e(o).form.items.fixed_amount,"onUpdate:modelValue":t[6]||(t[6]=a=>e(o).form.items.fixed_amount=a),prop:"fixed_amount","input-attr":{step:1},placeholder:e(l)("Please input field",{field:e(l)("qrcode.fixed_amount")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.expired_time"),type:"datetime",modelValue:e(o).form.items.expired_time,"onUpdate:modelValue":t[7]||(t[7]=a=>e(o).form.items.expired_time=a),prop:"expired_time",placeholder:e(l)("Please select field",{field:e(l)("qrcode.expired_time")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.notify_url"),type:"string",modelValue:e(o).form.items.notify_url,"onUpdate:modelValue":t[8]||(t[8]=a=>e(o).form.items.notify_url=a),prop:"notify_url",placeholder:e(l)("Please input field",{field:e(l)("qrcode.notify_url")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.return_url"),type:"string",modelValue:e(o).form.items.return_url,"onUpdate:modelValue":t[9]||(t[9]=a=>e(o).form.items.return_url=a),prop:"return_url",placeholder:e(l)("Please input field",{field:e(l)("qrcode.return_url")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.remark"),type:"string",modelValue:e(o).form.items.remark,"onUpdate:modelValue":t[10]||(t[10]=a=>e(o).form.items.remark=a),prop:"remark",placeholder:e(l)("Please input field",{field:e(l)("qrcode.remark")})},null,8,["label","modelValue","placeholder"]),r(d,{label:e(l)("qrcode.status"),type:"radio",modelValue:e(o).form.items.status,"onUpdate:modelValue":t[11]||(t[11]=a=>e(o).form.items.status=a),prop:"status","input-attr":{content:{0:e(l)("qrcode.status 0"),1:e(l)("qrcode.status 1")}},placeholder:e(l)("Please select field",{field:e(l)("qrcode.status")})},null,8,["label","modelValue","input-attr","placeholder"]),r(d,{label:e(l)("qrcode.weigh"),type:"number",modelValue:e(o).form.items.weigh,"onUpdate:modelValue":t[12]||(t[12]=a=>e(o).form.items.weigh=a),prop:"weigh","input-attr":{step:1},placeholder:e(l)("Please input field",{field:e(l)("qrcode.weigh")})},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[I,e(o).form.loading]])]),_:1},8,["model-value","onClose"]),r(L,{modelValue:g.value,"onUpdate:modelValue":t[17]||(t[17]=a=>g.value=a),"qrcode-data":e(o).form.items},null,8,["modelValue","qrcode-data"])],64)}}}),ae=A(O,[["__scopeId","data-v-86cbfe1f"]]);export{ae as default};
