import{u as w,_ as S}from"./index-B0iOz79E.js";import{e as E,f as c,o as u,h as f,k as s,j as m,_ as C,l as a,O as o,v as l,aH as n,U as r,V as p,aI as N,aJ as T,aK as D,aG as y,aL as z}from"./vue-DkQzphiS.js";const V={key:0,class:"template-preview"},B={class:"preview-area"},I=["src"],U=["src"],J={class:"text-layer"},O={class:"template-info"},L={class:"extra-config"},P={key:1,class:"template-preview-empty"},j=E({__name:"previewTemplate",props:{templateData:{}},setup(g){var _;const v=w(),h=e=>e?e.startsWith("http")?e:v.site_url+e:"",t=g;console.log("Template Data:",t.templateData),(_=t.templateData)!=null&&_.background&&console.log("Background URL:",h(t.templateData.background));const b=c(()=>{if(!t.templateData)return"";const{qrcode_width:e=200,qrcode_height:i=200}=t.templateData;return`https://api.qrserver.com/v1/create-qr-code/?size=${e}x${i}&data=demo`}),x=c(()=>({position:"relative"})),q=c(()=>t.templateData?{position:"absolute",left:`${t.templateData.qrcode_x}px`,top:`${t.templateData.qrcode_y}px`,width:`${t.templateData.qrcode_width}px`,height:`${t.templateData.qrcode_height}px`}:{}),d=e=>{if(!t.templateData)return{};const i={fontFamily:t.templateData.font_family,fontSize:`${t.templateData.font_size}px`,color:t.templateData.font_color},k={amount:{left:`${t.templateData.amount_x}px`,top:`${t.templateData.amount_y}px`},merchant:{left:`${t.templateData.merchant_x}px`,top:`${t.templateData.merchant_y}px`},order:{left:`${t.templateData.order_x}px`,top:`${t.templateData.order_y}px`},time:{left:`${t.templateData.time_x}px`,top:`${t.templateData.time_y}px`}};return{...i,...k[e]}},$=c(()=>{var e;if(!((e=t.templateData)!=null&&e.extra_config))return"{}";try{return JSON.stringify(JSON.parse(t.templateData.extra_config),null,2)}catch{return"{}"}});return(e,i)=>e.templateData?(u(),f("div",V,[s("div",B,[s("div",{class:"preview-container",style:m(x.value)},[e.templateData.background?(u(),f("img",{key:0,src:e.templateData.background,class:"background-image"},null,8,I)):C("",!0),s("div",{class:"qrcode-area",style:m(q.value)},[s("img",{src:b.value,class:"qrcode-image"},null,8,U)],4),s("div",J,[s("div",{class:"amount",style:m(d("amount"))},"¥ 88.88",4),s("div",{class:"merchant",style:m(d("merchant"))},"示例商户名称",4),s("div",{class:"order",style:m(d("order"))},"订单号：2024021712345678",4),s("div",{class:"time",style:m(d("time"))},"2024-02-17 12:34:56",4)])],4)]),s("div",O,[a(l(D),{column:2,border:""},{default:o(()=>[a(l(n),{label:"模板名称"},{default:o(()=>[r(p(e.templateData.name),1)]),_:1}),a(l(n),{label:"模板类型"},{default:o(()=>[r(p(e.templateData.type==="normal"?"普通模板":"自定义模板"),1)]),_:1}),a(l(n),{label:"字体"},{default:o(()=>[r(p(e.templateData.font_family),1)]),_:1}),a(l(n),{label:"字体大小"},{default:o(()=>[r(p(e.templateData.font_size)+"px",1)]),_:1}),a(l(n),{label:"字体颜色"},{default:o(()=>[a(l(N),{"model-value":e.templateData.font_color,disabled:""},null,8,["model-value"])]),_:1}),a(l(n),{label:"状态"},{default:o(()=>[a(l(T),{type:e.templateData.status===1?"success":"danger"},{default:o(()=>[r(p(e.templateData.status===1?"启用":"禁用"),1)]),_:1},8,["type"])]),_:1})]),_:1}),a(l(y),null,{default:o(()=>i[0]||(i[0]=[r("二维码设置")])),_:1}),a(l(D),{column:2,border:""},{default:o(()=>[a(l(n),{label:"宽度"},{default:o(()=>[r(p(e.templateData.qrcode_width)+"px",1)]),_:1}),a(l(n),{label:"高度"},{default:o(()=>[r(p(e.templateData.qrcode_height)+"px",1)]),_:1}),a(l(n),{label:"X坐标"},{default:o(()=>[r(p(e.templateData.qrcode_x)+"px",1)]),_:1}),a(l(n),{label:"Y坐标"},{default:o(()=>[r(p(e.templateData.qrcode_y)+"px",1)]),_:1})]),_:1}),a(l(y),null,{default:o(()=>i[1]||(i[1]=[r("额外配置")])),_:1}),s("pre",L,p($.value),1)])])):(u(),f("div",P,[a(l(z),{description:"暂无模板数据"})]))}}),H=S(j,[["__scopeId","data-v-23b773a1"]]);export{H as default};
