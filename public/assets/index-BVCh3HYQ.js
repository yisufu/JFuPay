import{x as _,a5 as q}from"./index-B0iOz79E.js";import w from"./popupForm-B1vzYBOC.js";import y from"./previewQrcode-D_43SZ6-.js";import v from"./previewCashier-CXf6_35P.js";import{d as g,b as k,T as E,a as x}from"./index-CJwZD0Ka.js";import{e as I,p as n,at as N,z,m as C,o as m,h as F,v as c,N as P,_ as T,l as t}from"./vue-DkQzphiS.js";import"./index-tQazVPhs.js";import"./validate-DcgMk89l.js";import"./index-DJv0ClnV.js";const V={class:"default-main ba-table-box"},U=I({name:"qrcode",__name:"index",setup(R){const{t:e}=_.useI18n(),p=n(),s=n(!1),o=n(null),d=n(!1),u=a=>{o.value=a,s.value=!0},b=a=>{o.value=a,d.value=!0},h=[{render:"tipButton",name:"qrcode",title:"生成收款码",type:"success",icon:"fa fa-qrcode",class:"table-row-qrcode",click:a=>{u(a)}},{render:"tipButton",name:"cashier",title:"生成收银台",type:"primary",icon:"fa fa-link",class:"table-row-cashier",click:a=>{b(a)}},...g(["weigh-sort","edit","delete"])],r=new k(new q("/admin/Qrcode/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("qrcode.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:e("qrcode.name"),prop:"name",align:"center",width:120,operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("qrcode.merchant_id"),prop:"merchant_id",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE"},{label:e("qrcode.merchant__username"),prop:"merchant.username",align:"center",operatorPlaceholder:e("Fuzzy query"),render:"tags",operator:"LIKE"},{label:e("qrcode.channeltable__name"),prop:"channelTable.name",align:"center",width:120,render:"tags",operator:!1},{label:e("qrcode.channeltable__name"),prop:"channel",align:"center",operator:"FIND_IN_SET",show:!1,comSearchRender:"remoteSelect",remote:{pk:"channel.id",field:"name",remoteUrl:"/admin/Channel/index",multiple:!0}},{label:e("qrcode.min_amount"),prop:"min_amount",align:"center",width:100,operator:"RANGE",sortable:!1},{label:e("qrcode.max_amount"),prop:"max_amount",align:"center",width:100,operator:"RANGE",sortable:!1},{label:e("qrcode.remark"),prop:"remark",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("qrcode.status"),prop:"status",align:"center",render:"tag",operator:"eq",sortable:!1,replaceValue:{0:e("qrcode.status 0"),1:e("qrcode.status 1")}},{label:e("qrcode.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("qrcode.update_time"),prop:"update_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:170,render:"buttons",buttons:h,operator:!1}],dblClickNotEditColumn:[void 0],defaultOrder:{prop:"weigh",order:"desc"}},{defaultItems:{expired_time:"0",status:"1"}});return N("baTable",r),z(()=>{var a;r.table.ref=p.value,r.mount(),(a=r.getIndex())==null||a.then(()=>{r.initSort(),r.dragSort()})}),(a,l)=>{const f=C("el-alert");return m(),F("div",V,[c(r).table.remark?(m(),P(f,{key:0,class:"ba-table-alert",title:c(r).table.remark,type:"info","show-icon":""},null,8,["title"])):T("",!0),t(E,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":c(e)("Quick search placeholder",{fields:c(e)("qrcode.quick Search Fields")})},null,8,["quick-search-placeholder"]),t(x,{ref_key:"tableRef",ref:p},null,512),t(w),t(y,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),"qrcode-data":o.value},null,8,["modelValue","qrcode-data"]),t(v,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=i=>d.value=i),"cashier-data":o.value},null,8,["modelValue","cashier-data"])])}}});export{U as default};
