import{x as f,a5 as y}from"./index-B0iOz79E.js";import g from"./popupForm-BSGdRoMS.js";import{d as N,b as w,T as x,a as q}from"./index-CJwZD0Ka.js";import E from"./previewTemplate-BX12HfdE.js";import{e as v,p,at as A,z as k,m as s,o as d,h as R,v as n,N as G,_ as z,l as r,O as T}from"./vue-DkQzphiS.js";import"./index-tQazVPhs.js";import"./validate-DcgMk89l.js";import"./index-DJv0ClnV.js";const V={class:"default-main ba-table-box"},L=v({name:"pay-template",__name:"index",setup(C){const{t:e}=f.useI18n(),i=p(),l=p(!1),o=p(null),c=[{render:"tipButton",name:"preview",title:"预览模板",type:"primary",icon:"fa fa-eye",class:"table-row-preview",click:t=>{console.log("Preview row:",t),o.value={...t,background:t.background||"",qrcode_width:Number(t.qrcode_width)||200,qrcode_height:Number(t.qrcode_height)||200,qrcode_x:Number(t.qrcode_x)||275,qrcode_y:Number(t.qrcode_y)||400,font_family:t.font_family||"Arial",font_size:Number(t.font_size)||14,font_color:t.font_color||"#000000",amount_x:Number(t.amount_x)||375,amount_y:Number(t.amount_y)||300,merchant_x:Number(t.merchant_x)||375,merchant_y:Number(t.merchant_y)||600,order_x:Number(t.order_x)||375,order_y:Number(t.order_y)||650,time_x:Number(t.time_x)||375,time_y:Number(t.time_y)||700,status:Number(t.status)||0},console.log("Processed template:",o.value),l.value=!0}},...N(["weigh-sort","edit","delete"])],a=new w(new y("/admin/Template/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1,width:50},{label:e("template.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:e("template.name"),prop:"name",align:"center",width:150,operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("template.type"),prop:"type",align:"center",width:100,render:"tag",operator:"eq",sortable:!1,replaceValue:{normal:e("template.type normal"),custom:e("template.type custom")}},{label:e("template.thumb"),prop:"thumb",align:"center",width:100,render:"image",operator:!1},{label:e("template.background"),prop:"background",align:"center",width:100,render:"image",operator:!1},{label:e("template.qrcode_width"),prop:"qrcode_width",align:"center",width:100,operator:"RANGE",sortable:!1},{label:e("template.qrcode_height"),prop:"qrcode_height",align:"center",width:100,operator:"RANGE",sortable:!1},{label:e("template.qrcode_x"),prop:"qrcode_x",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.qrcode_y"),prop:"qrcode_y",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.font_family"),prop:"font_family",align:"center",width:70,operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("template.font_size"),prop:"font_size",align:"center",width:70,operator:"RANGE",sortable:!1},{label:e("template.font_color"),prop:"font_color",align:"center",width:100,render:"color",operator:!1},{label:e("template.amount_x"),prop:"amount_x",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.amount_y"),prop:"amount_y",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.merchant_x"),prop:"merchant_x",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.merchant_y"),prop:"merchant_y",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.order_x"),prop:"order_x",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.order_y"),prop:"order_y",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.time_x"),prop:"time_x",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.time_y"),prop:"time_y",align:"center",width:120,operator:"RANGE",sortable:!1},{label:e("template.weigh"),prop:"weigh",align:"center",width:80,operator:"RANGE",sortable:"custom"},{label:e("template.status"),prop:"status",align:"center",width:100,render:"switch",operator:"eq",sortable:!1,replaceValue:{0:e("template.status 0"),1:e("template.status 1")}},{label:e("template.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("template.update_time"),prop:"update_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:150,render:"buttons",buttons:c,operator:!1}],dblClickNotEditColumn:[void 0,"status"],defaultOrder:{prop:"weigh",order:"desc"}},{defaultItems:{type:"normal",qrcode_width:200,qrcode_height:200,font_family:"Arial",font_size:12,font_color:"#000000",status:"1"}});A("baTable",a),k(()=>{var t;a.table.ref=i.value,a.mount(),(t=a.getIndex())==null||t.then(()=>{a.initSort(),a.dragSort()})});const u=()=>{l.value=!1,o.value=null};return(t,m)=>{const b=s("el-alert"),_=s("el-dialog");return d(),R("div",V,[n(a).table.remark?(d(),G(b,{key:0,class:"ba-table-alert",title:n(a).table.remark,type:"info","show-icon":""},null,8,["title"])):z("",!0),r(x,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":n(e)("Quick search placeholder",{fields:n(e)("template.quick Search Fields")})},null,8,["quick-search-placeholder"]),r(q,{ref_key:"tableRef",ref:i},null,512),r(g),r(_,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=h=>l.value=h),title:"预览模板",width:"80%","before-close":u},{default:T(()=>[r(E,{"template-data":o.value},null,8,["template-data"])]),_:1},8,["modelValue"])])}}});export{L as default};
