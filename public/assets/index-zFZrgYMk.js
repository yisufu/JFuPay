import{x as f,a5 as h,_ as g}from"./index-B0iOz79E.js";import{_ as y}from"./popupForm.vue_vue_type_script_setup_true_lang-ED31-6m8.js";import{d as k,b as v,T as x,a as I}from"./index-CJwZD0Ka.js";import{e as w,p as E,at as q,z as N,m as s,W as z,o as l,h as C,v as r,N as i,_ as T,l as o,O as c,Z as B,k as F,V as M,a8 as P}from"./vue-DkQzphiS.js";import"./index-tQazVPhs.js";import"./validate-DcgMk89l.js";import"./index-DJv0ClnV.js";const S={class:"default-main ba-table-box"},D={class:"table-header-operate-text"},R=w({name:"plugins",__name:"index",setup(V){const{t:e}=f.useI18n(),n=E(),p=k(["edit","delete"]),t=new v(new h("/admin/Plugins/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("plugins.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:e("plugins.plugin_name"),prop:"plugin_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("plugins.class_name"),prop:"class_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("plugins.author"),prop:"author",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("plugins.status"),prop:"status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{0:e("plugins.status 0"),1:e("plugins.status 1")}},{label:e("plugins.update_time"),prop:"update_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("plugins.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:100,render:"buttons",buttons:p,operator:!1}],dblClickNotEditColumn:[void 0,"status"]},{defaultItems:{status:"1"}});q("baTable",t);const u=()=>{t.api.postData("syncLocalPlugins",{}).then(a=>{t.getIndex()}).catch(a=>{console.error(a),P.error("同步失败")})};return N(()=>{var a;t.table.ref=n.value,t.mount(),(a=t.getIndex())==null||a.then(()=>{t.initSort(),t.dragSort()})}),(a,A)=>{const d=s("el-alert"),m=s("Icon"),b=s("el-button"),_=z("blur");return l(),C("div",S,[r(t).table.remark?(l(),i(d,{key:0,class:"ba-table-alert",title:r(t).table.remark,type:"info","show-icon":""},null,8,["title"])):T("",!0),o(x,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":r(e)("Quick search placeholder",{fields:r(e)("plugins.quick Search Fields")})},{default:c(()=>[B((l(),i(b,{class:"table-header-operate",type:"primary",onClick:u},{default:c(()=>[o(m,{color:"#ffffff",name:"fa fa-refresh"}),F("span",D,M(r(e)("同步插件")),1)]),_:1})),[[_]])]),_:1},8,["quick-search-placeholder"]),o(I,{ref_key:"tableRef",ref:n},null,512),o(y)])}}}),Q=g(R,[["__scopeId","data-v-21e7b137"]]);export{Q as default};
